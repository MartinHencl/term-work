-- MySQL Script generated by MySQL Workbench
-- Thu Jan  3 10:26:01 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`JIZDY`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`JIZDY` ;

CREATE TABLE IF NOT EXISTS `mydb`.`JIZDY` (
  `ID JIZDY` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `DATUM VZNIKU` DATETIME NOT NULL,
  `DATUM JIZDY` DATETIME NOT NULL,
  `DATUM ZACATKU` DATETIME NULL,
  `DATUM KONCE` DATETIME NULL,
  `NAJETO` INT NULL,
  `UZIVATEL_ID UZIVATEL` INT NOT NULL,
  `VOZIDLA_ID VOZIDLA` INT NOT NULL,
  PRIMARY KEY (`ID JIZDY`),
  INDEX `fk_JIZDY_UZIVATEL_idx` (`UZIVATEL_ID UZIVATEL` ASC) VISIBLE,
  INDEX `fk_JIZDY_VOZIDLA1_idx` (`VOZIDLA_ID VOZIDLA` ASC) VISIBLE,
  CONSTRAINT `fk_JIZDY_UZIVATEL`
    FOREIGN KEY (`UZIVATEL_ID UZIVATEL`)
    REFERENCES `mydb`.`UZIVATEL` (`ID UZIVATEL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_JIZDY_VOZIDLA1`
    FOREIGN KEY (`VOZIDLA_ID VOZIDLA`)
    REFERENCES `mydb`.`VOZIDLA` (`ID VOZIDLA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`UZIVATEL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`UZIVATEL` ;

CREATE TABLE IF NOT EXISTS `mydb`.`UZIVATEL` (
  `ID UZIVATEL` INT NOT NULL AUTO_INCREMENT,
  `EMAIL` VARCHAR(45) NOT NULL,
  `JMENO` VARCHAR(45) NOT NULL,
  `PRIJMENI` VARCHAR(45) NOT NULL,
  `HESLO` VARCHAR(45) NOT NULL,
  `TELEFON` VARCHAR(45) NULL,
  PRIMARY KEY (`ID UZIVATEL`),
  UNIQUE INDEX `EMAIL_UNIQUE` (`EMAIL` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`VOZIDLA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`VOZIDLA` ;

CREATE TABLE IF NOT EXISTS `mydb`.`VOZIDLA` (
  `ID VOZIDLA` INT NOT NULL AUTO_INCREMENT,
  `SPZ` VARCHAR(45) NOT NULL,
  `PUVODNI NAJETO` DATETIME NOT NULL,
  `VYBAVENI_ID VYBAVENI` INT NOT NULL,
  `ZNACKA VOZU_ID ZNACKA VOZU` INT NOT NULL,
  `SPOTÅ˜EBA` VARCHAR(45) NULL,
  `DOJEZD NA NADRZ` VARCHAR(45) NULL,
  PRIMARY KEY (`ID VOZIDLA`),
  INDEX `fk_VOZIDLA_VYBAVENI1_idx` (`VYBAVENI_ID VYBAVENI` ASC) VISIBLE,
  INDEX `fk_VOZIDLA_ZNACKA VOZU1_idx` (`ZNACKA VOZU_ID ZNACKA VOZU` ASC) VISIBLE,
  CONSTRAINT `fk_VOZIDLA_VYBAVENI1`
    FOREIGN KEY (`VYBAVENI_ID VYBAVENI`)
    REFERENCES `mydb`.`VYBAVENI` (`ID VYBAVENI`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_VOZIDLA_ZNACKA VOZU1`
    FOREIGN KEY (`ZNACKA VOZU_ID ZNACKA VOZU`)
    REFERENCES `mydb`.`ZNACKA VOZU` (`ID ZNACKA VOZU`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`VYBAVENI`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`VYBAVENI` ;

CREATE TABLE IF NOT EXISTS `mydb`.`VYBAVENI` (
  `ID VYBAVENI` INT NOT NULL AUTO_INCREMENT,
  `VYBAVENI` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID VYBAVENI`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ZNACKA VOZU`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ZNACKA VOZU` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ZNACKA VOZU` (
  `ID ZNACKA VOZU` INT NOT NULL AUTO_INCREMENT,
  `ZNACKA` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID ZNACKA VOZU`),
  UNIQUE INDEX `ZNACKA_UNIQUE` (`ZNACKA` ASC) VISIBLE)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
